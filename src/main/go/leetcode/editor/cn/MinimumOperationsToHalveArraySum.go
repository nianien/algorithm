//2208.minimum-operations-to-halve-array-sum
//ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ nums ã€‚æ¯ä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ å¯ä»¥ä» nums ä¸­é€‰æ‹© ä»»æ„ ä¸€ä¸ªæ•°å¹¶å°†å®ƒå‡å°åˆ° æ°å¥½ ä¸€åŠã€‚ï¼ˆæ³¨æ„ï¼Œåœ¨åç»­æ“ä½œä¸­ä½ å¯ä»¥å¯¹å‡åŠè¿‡çš„æ•°ç»§ç»­æ‰§
//è¡Œæ“ä½œï¼‰
//
// è¯·ä½ è¿”å›å°† nums æ•°ç»„å’Œ è‡³å°‘ å‡å°‘ä¸€åŠçš„ æœ€å°‘ æ“ä½œæ•°ã€‚
//
//
//
// ç¤ºä¾‹ 1ï¼š
//
// è¾“å…¥ï¼šnums = [5,19,8,1]
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šåˆå§‹ nums çš„å’Œä¸º 5 + 19 + 8 + 1 = 33 ã€‚
//ä»¥ä¸‹æ˜¯å°†æ•°ç»„å’Œå‡å°‘è‡³å°‘ä¸€åŠçš„ä¸€ç§æ–¹æ³•ï¼š
//é€‰æ‹©æ•°å­— 19 å¹¶å‡å°ä¸º 9.5 ã€‚
//é€‰æ‹©æ•°å­— 9.5 å¹¶å‡å°ä¸º 4.75 ã€‚
//é€‰æ‹©æ•°å­— 8 å¹¶å‡å°ä¸º 4 ã€‚
//æœ€ç»ˆæ•°ç»„ä¸º [5, 4.75, 4, 1] ï¼Œå’Œä¸º 5 + 4.75 + 4 + 1 = 14.75 ã€‚
//nums çš„å’Œå‡å°äº† 33 - 14.75 = 18.25 ï¼Œå‡å°çš„éƒ¨åˆ†è¶…è¿‡äº†åˆå§‹æ•°ç»„å’Œçš„ä¸€åŠï¼Œ18.25 >= 33/2 = 16.5 ã€‚
//æˆ‘ä»¬éœ€è¦ 3 ä¸ªæ“ä½œå®ç°é¢˜ç›®è¦æ±‚ï¼Œæ‰€ä»¥è¿”å› 3 ã€‚
//å¯ä»¥è¯æ˜ï¼Œæ— æ³•é€šè¿‡å°‘äº 3 ä¸ªæ“ä½œä½¿æ•°ç»„å’Œå‡å°‘è‡³å°‘ä¸€åŠã€‚
//
//
// ç¤ºä¾‹ 2ï¼š
//
// è¾“å…¥ï¼šnums = [3,8,20]
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šåˆå§‹ nums çš„å’Œä¸º 3 + 8 + 20 = 31 ã€‚
//ä»¥ä¸‹æ˜¯å°†æ•°ç»„å’Œå‡å°‘è‡³å°‘ä¸€åŠçš„ä¸€ç§æ–¹æ³•ï¼š
//é€‰æ‹©æ•°å­— 20 å¹¶å‡å°ä¸º 10 ã€‚
//é€‰æ‹©æ•°å­— 10 å¹¶å‡å°ä¸º 5 ã€‚
//é€‰æ‹©æ•°å­— 3 å¹¶å‡å°ä¸º 1.5 ã€‚
//æœ€ç»ˆæ•°ç»„ä¸º [1.5, 8, 5] ï¼Œå’Œä¸º 1.5 + 8 + 5 = 14.5 ã€‚
//nums çš„å’Œå‡å°äº† 31 - 14.5 = 16.5 ï¼Œå‡å°çš„éƒ¨åˆ†è¶…è¿‡äº†åˆå§‹æ•°ç»„å’Œçš„ä¸€åŠï¼Œ 16.5 >= 31/2 = 16.5 ã€‚
//æˆ‘ä»¬éœ€è¦ 3 ä¸ªæ“ä½œå®ç°é¢˜ç›®è¦æ±‚ï¼Œæ‰€ä»¥è¿”å› 3 ã€‚
//å¯ä»¥è¯æ˜ï¼Œæ— æ³•é€šè¿‡å°‘äº 3 ä¸ªæ“ä½œä½¿æ•°ç»„å’Œå‡å°‘è‡³å°‘ä¸€åŠã€‚
//
//
//
//
// æç¤ºï¼š
//
//
// 1 <= nums.length <= 10âµ
// 1 <= nums[i] <= 10â·
//
//
// Related Topics è´ªå¿ƒ æ•°ç»„ å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰ ğŸ‘ 39 ğŸ‘ 0

package main

import (
	"container/heap"
	"fmt"
)

//leetcode submit region begin(Prohibit modification and deletion)

type IntHeap []float64

func (h IntHeap) Len() int { return len(h) }
func (h IntHeap) Less(i, j int) bool { // ç»‘å®šlessæ–¹æ³•
	// å°é¡¶å †ï¼šh[i]<h[j]ï¼›å¤§é¡¶å †ï¼šh[i]>h[j]
	return h[i] > h[j]
}
func (h IntHeap) Swap(i, j int) { // ç»‘å®šswapæ–¹æ³•ï¼Œäº¤æ¢ä¸¤ä¸ªå…ƒç´ ä½ç½®
	h[i], h[j] = h[j], h[i]
}

// Pop ç»‘å®špopæ–¹æ³•ï¼Œä»æœ€åæ‹¿å‡ºä¸€ä¸ªå…ƒç´ å¹¶è¿”å›
func (h *IntHeap) Pop() interface{} {
	old := *h
	n := len(old)
	x := old[n-1]
	*h = old[0 : n-1]
	return x
}

func (h IntHeap) Peek() float64 {
	return h[0]
}

// Push ç»‘å®špushæ–¹æ³•ï¼Œæ’å…¥æ–°å…ƒç´ 
func (h *IntHeap) Push(x interface{}) {
	*h = append(*h, x.(float64))
}
func halveArray(nums []int) int {
	var h = &IntHeap{}
	sum := 0.0
	for _, num := range nums {
		heap.Push(h, float64(num))
		sum += float64(num)
	}
	half := sum / 2
	res := 0
	for sum > half {
		max := heap.Pop(h).(float64)
		max = max / 2
		sum -= max
		res++
		heap.Push(h, max)
	}
	return res
}

//leetcode submit region end(Prohibit modification and deletion)

// test from here
func main() {
	//fmt.Println(halveArray([]int{5, 19, 8, 1}))
	nums := []int{8739035, 4901127, 4338327, 7360836, 7837064, 5211625, 2177427, 3500276, 8900040, 6943981, 4543076, 2942668, 6051674, 3220114, 3262038, 3557549, 141194, 2701009, 6314605, 7356081, 9869665, 7790170, 5178948, 8696456, 6125816, 6340599, 7227799, 4779784, 9441851, 1189923, 2619397, 1404977, 4583528, 589727, 9594310, 9307751, 4349903, 8474185, 5817649, 311108, 1982300, 7621863, 4763374, 1388329, 8722192, 6509592, 2695470, 4257740, 5077523, 5583403, 3250002, 5086789, 6927117, 8487669, 6397280, 6857962, 9307359, 1097462, 8982016, 7505708, 7605823, 2262503, 2168554, 397737, 3056483, 8747777, 6260940, 9591312, 5381584, 9169381, 9353145, 9485955, 6270041, 8516266, 4981579, 8633883, 6903201, 9258037, 1673755, 766548, 4290448, 2071704, 563560, 5256806, 1715053, 3412224, 2324599, 1684842, 2461592, 1427529, 6521179, 1697580, 2865998, 6914529, 5365631, 7665088, 3638760, 3508330, 1334821, 4163858, 1653016, 9349122, 8375044, 4741012, 9731759, 8184146}

	fmt.Println(halveArray(nums))
}
